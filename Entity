-- Main Schedule table
CREATE TABLE Schedule (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    scene_number INT NOT NULL CHECK (scene_number >= 1),
    date VARCHAR(10) NOT NULL CHECK (date REGEXP '^[0-9]{4}-[0-9]{2}-[0-9]{2}$'),
    time VARCHAR(10) NOT NULL CHECK (time REGEXP '^(0?[1-9]|1[0-2]):[0-5][0-9]\\s?(AM|PM|am|pm)$'),
    location VARCHAR(100) NOT NULL,
    notes VARCHAR(500)
);

-- Table for storing cast members
CREATE TABLE schedule_cast (
    schedule_id BIGINT NOT NULL,
    cast_member VARCHAR(255) NOT NULL,
    FOREIGN KEY (schedule_id) REFERENCES Schedule(id) ON DELETE CASCADE
);

-- Table for storing crew members
CREATE TABLE schedule_crew (
    schedule_id BIGINT NOT NULL,
    crew_member VARCHAR(255) NOT NULL,
    FOREIGN KEY (schedule_id) REFERENCES Schedule(id) ON DELETE CASCADE
);
